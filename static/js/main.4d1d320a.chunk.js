(this.webpackJsonpcwassesment=this.webpackJsonpcwassesment||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(24),a=n.n(r),c=n(5),s=n(1),o=n(4),i=n(6),u=n(7),l=n.n(u),d={getCurrentCovidStats:function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("https://api.covidtracking.com/v1/states/current.json");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getHistoricDailyCovidStats:function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("https://api.covidtracking.com/v1/states/daily.json");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},p=d,j={get100Cats:function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("https://api.thecatapi.com/v1/images/search?limit=100");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getRandomCat:function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("https://api.thecatapi.com/v1/images/search");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},b=j,h=n(11),O=n(12),g=n(14),f=n(13),v=n(0),m=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e="";return this.props.image&&(e=this.props.image.map((function(e){return e.url}))),Object(v.jsxs)("div",{className:"banner",children:[Object(v.jsx)("div",{className:"image",children:Object(v.jsx)("img",{className:"image",src:e,alt:"cat",height:"100px"})}),Object(v.jsx)("h1",{className:"display-3",children:"Data Table Search"})]})}}]),n}(s.Component),x=m,y=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"input-group mb-3",children:[Object(v.jsxs)("select",{className:"selectpicker",onChange:this.props.onChange,id:"searchOption",children:[Object(v.jsx)("option",{value:"date",children:"Date"}),Object(v.jsx)("option",{value:"state",children:"State"}),Object(v.jsx)("option",{value:"totalTestResults",children:"TotalTestResults"}),Object(v.jsx)("option",{value:"positive",children:"Positive"}),Object(v.jsx)("option",{value:"hospitalizedCurrently",children:"Hospitalizations"})]}),Object(v.jsxs)("select",{className:"selectpicker",onChange:this.props.onChange,id:"compareOption",hidden:!0,children:[Object(v.jsx)("option",{value:"greater",children:"\u2265"}),Object(v.jsx)("option",{value:"less",children:"\u2264"})]}),Object(v.jsx)("input",{className:"form-control",onChange:this.props.onChange,id:"searchText",placeholder:"Filter data..."}),Object(v.jsx)("button",{onClick:function(){return e.props.onClick(1)},children:"Refresh Image"})]})}}]),n}(s.Component),C=y,k=n(56),S=["positive","totalTestResults","hospitalizedCurrently"],w=[{Header:"Date",Footer:"Date",accessor:"date",sticky:"left",Cell:function(e){var t=e.value,n=new Date(String(t).substring(0,4)+"-"+String(t).substring(4,6)+"-"+String(t).substring(6,9));isNaN(n)&&(console.log("Error with date, defaulting to 2020-01-01"),n=new Date("2020-01-01"));var r=new Date(n.valueOf()+60*n.getTimezoneOffset()*1e3);return Object(k.a)(r,"yyyy-MM-dd")}},{Header:"State",Footer:"State",accessor:"state",sticky:"left"},{Header:"Total Tests",Footer:"totalTestResults",accessor:"totalTestResults",sticky:"left"},{Header:"Hospitalized",Footer:"Hospitalized",accessor:"hospitalizedCurrently",sticky:"left"},{Header:"Delete",Footer:"Delete",accessor:"delete",sticky:"left",Cell:function(e){return Object(v.jsx)("button",{className:"delete",onClick:function(){e.passedProps.onDelete(e.row.values.date,e.row.values.state)},children:"\u2715"})}}],P=n(18),N=n(2),D=n(17),T=function(e){var t=e.columns,n=e.data,r=Object(D.useTable)({columns:t,data:n,initialState:{pageIndex:0}},D.usePagination),a=r.getTableProps,c=r.getTableBodyProps,s=r.headerGroups,o=r.page,i=r.nextPage,u=r.previousPage,l=r.canPreviousPage,d=r.canNextPage,p=r.pageOptions,j=r.state,b=r.gotoPage,h=r.pageCount,O=r.setPageSize,g=r.prepareRow,f=j.pageIndex,m=j.pageSize;return Object(v.jsxs)("div",{children:[Object(v.jsxs)("table",Object(N.a)(Object(N.a)({},a()),{},{className:"table table-hover table-striped table-bordered table-sm",children:[Object(v.jsx)("thead",{className:"table-dark",children:s.map((function(t){return Object(v.jsx)("tr",Object(N.a)(Object(N.a)({},t.getHeaderGroupProps()),{},{children:t.headers.map((function(t){return Object(v.jsx)("th",Object(N.a)(Object(N.a)({},t.getHeaderProps()),{},{id:t.id,onClick:function(){"delete"!==t.id&&e.onSort(t.id)},className:e.addClassSymbols(t.id),children:t.render("Header")}))}))}))}))}),Object(v.jsx)("tbody",Object(N.a)(Object(N.a)({},c()),{},{children:o.map((function(t){return g(t),Object(v.jsx)("tr",Object(N.a)(Object(N.a)({},t.getRowProps()),{},{children:t.cells.map((function(t){return Object(v.jsx)("td",Object(N.a)(Object(N.a)({},t.getCellProps()),{},{children:t.render("Cell",{passedProps:e})}))}))}))}))}))]})),Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:function(){return b(0)},disabled:!l,children:"<<"})," ",Object(v.jsx)("button",{onClick:function(){return u()},disabled:!l,children:"Previous"})," ",Object(v.jsx)("button",{onClick:function(){return i()},disabled:!d,children:"Next"})," ",Object(v.jsx)("button",{onClick:function(){return b(h-1)},disabled:!d,children:">>"})," ",Object(v.jsxs)("span",{children:["Page"," ",Object(v.jsxs)("strong",{children:[f+1," of ",p.length]})," "]}),Object(v.jsxs)("span",{children:["| Go to page:"," ",Object(v.jsx)("input",{type:"number",defaultValue:f+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;b(t)},style:{width:"50px"}})]})," ",Object(v.jsx)("select",{value:m,onChange:function(e){return O(Number(e.target.value))},children:[10,25,50].map((function(e){return Object(v.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]})},H=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(s.useState)(t),r=Object(c.a)(n,2),a=r[0],o=r[1];return{data:Object(s.useMemo)((function(){var t=Object(P.a)(e);return null!==a&&t.sort((function(e,t){return e[a.key]<t[a.key]?"ascending"===a.direction?-1:1:e[a.key]>t[a.key]?"ascending"===a.direction?1:-1:0})),t}),[e,a]),requestSort:function(e){var t="ascending";a&&a.key===e&&"ascending"===a.direction&&(t="descending"),o({key:e,direction:t})},sortConfig:a}}(e.data),n=t.data,r=t.requestSort,a=t.sortConfig,o=function(e,t){var n=Object(P.a)(t),r=e.search;return""===r.text?n:n.filter((function(t){return e.numericKeys.includes(r.option)?"greater"===r.compare?t[e.search.option]>=parseInt(r.text,10):t[e.search.option]<=parseInt(r.text,10):t[e.search.option].toString().toLowerCase().includes(r.text)}))}(e,n);return Object(v.jsx)(T,{search:e.search,data:o,columns:w,onDelete:e.onDelete,onSort:r,numericKeys:e.numericKeys,addClassSymbols:function(e){if(a)return a.key===e?a.direction:void 0}})};var I=function(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(0),o=Object(c.a)(a,2),i=o[0],u=o[1],l=Object(s.useState)(null),d=Object(c.a)(l,2),j=d[0],h=d[1],O=Object(s.useState)({option:"",text:"",compare:""}),g=Object(c.a)(O,2),f=g[0],m=g[1];Object(s.useEffect)((function(){p.getCurrentCovidStats().then((function(e){console.log("response",e),r(e)}))}),[]),Object(s.useEffect)((function(){b.getRandomCat().then((function(e){console.log("response",e),h(e)})).catch((function(e){console.log("Error",e)}))}),[i]);var y=function(e){console.log("Handle Click Called",i),u(i+e)};return Object(v.jsxs)("div",{children:[Object(v.jsx)(x,{image:j,onClick:y}),Object(v.jsx)(C,{onChange:function(){var e=document.getElementById("searchOption").value,t="";S.includes(e)?(document.getElementById("compareOption").hidden=!1,t=document.getElementById("compareOption").value):document.getElementById("compareOption").hidden=!0;var n=document.getElementById("searchText").value.toLowerCase();m({option:e,text:n,compare:t})},onClick:y}),Object(v.jsx)(H,{search:f,data:n,onDelete:function(e,t){console.log("Handle Delete Called",e,t);var a=n.filter((function(n){return n.date!==e||n.state!==t}));r(a)},numericKeys:S})]})};n(52),n(53);a.a.render(Object(v.jsx)(I,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.4d1d320a.chunk.js.map